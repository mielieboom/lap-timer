{"version":3,"sources":["index.js"],"names":["millisToString","duration","console","log","Math","floor","minutes","seconds","toFixed","Clock","props","state","time","Date","now","start","this","intervalID","setInterval","tick","clearInterval","setState","time_text","className","React","Component","App","handleClick","count","history","prev_time","new_time","concat","onClick","fastest_lap","arr","min_value","Number","MAX_SAFE_INTEGER","min_index","i","length","minIndex","fastest_text","fastest","times","map","v","cls","key","reverse","ReactDOM","render","document","getElementById"],"mappings":"0OAkBMA,G,MAAiB,SAACC,GACtBC,QAAQC,IAAI,WAAYF,GAOXG,KAAKC,MAAMJ,EAFT,OAGDG,KAAKC,MAAMJ,EAJT,MAHhB,IAQMK,EAAUF,KAAKC,MAAMJ,EANT,KAOZM,GAAWN,EARC,KAQqBO,QAAQ,GAE/C,MAAM,GAAN,OAAUF,EAAV,gBAAyBC,EAAzB,UAGIE,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,KAAMC,KAAKC,MACXC,MAAOL,EAAMK,OAAS,GAJP,E,gEAOE,IAAD,OAClBC,KAAKC,WAAaC,aAAY,kBAAM,EAAKC,SAAQ,O,6CAGjDC,cAAcJ,KAAKC,c,6BAGnBD,KAAKK,SAAS,CACZT,KAAMC,KAAKC,MACXC,MAAOC,KAAKL,MAAMI,U,+BAGZ,IAAD,EACiBC,KAAKL,MAArBC,EADD,EACCA,KAAMG,EADP,EACOA,MACRO,EAAS,iBAAatB,EAAeY,EAAOG,IAClD,OAAO,yBAAKQ,UAAU,cAAcD,O,GAvBpBE,IAAMC,WA2BpBC,E,kDACJ,WAAYhB,GAAQ,IAAD,8BACjB,cAAMA,IAQRiB,YAAc,WACZ,GAAyB,OAArB,EAAKhB,MAAMiB,MAEb,EAAKP,SAAS,CACZQ,QAAS,GACTD,MAAO,EACPE,UAAWjB,KAAKC,YAEb,CACL,IAAMA,EAAMD,KAAKC,MACXiB,EAAWjB,EAAM,EAAKH,MAAMmB,UAElC,EAAKT,SAAS,CACZQ,QAAS,EAAKlB,MAAMkB,QAAQG,OAAO,CAACD,IACpCH,MAAO,EAAKjB,MAAMiB,MAAQ,EAC1BE,UAAWhB,MAtBf,EAAKH,MAAQ,CACXkB,QAAS,KACTC,UAAW,KACXF,MAAO,MALQ,E,qDA8BjB,GAAyB,OAArBZ,KAAKL,MAAMiB,MACb,OACE,yBAAKK,QAASjB,KAAKW,aACjB,yBAAKJ,UAAU,eAAe,OAKpC,IAAMM,EAAUb,KAAKL,MAAMkB,QACrBK,EAjGO,SAACC,GAGhB,IAFA,IAAIC,EAAYC,OAAOC,iBACnBC,GAAa,EACRC,EAAI,EAAGA,EAAIL,EAAIM,OAAQD,IAC1BL,EAAIK,IAAMJ,IACZA,EAAYD,EAAIK,GAChBD,EAAYC,GAKhB,OADAtC,QAAQC,IAAI,eAAgBoC,EAAWH,GAChCG,EAsFeG,CAASb,GACvBc,EAAY,mBAAeT,EAAc,EAA7B,cAAoClC,EACpD6B,EAAQK,KAEJU,EACJV,GAAe,EACb,yBAAKX,UAAU,iBAAiBoB,GAC9B,KAEAE,EAAQhB,EACXiB,KAAI,SAACC,EAAGP,GACP,IAAMQ,EAAMR,IAAMN,EAAc,gBAAkB,aAElD,OACE,yBAAKX,UAAWyB,EAAKC,IAAKT,GACvBA,EAAI,EADP,MACaxC,EAAe+C,OAI/BG,UAEH,OACE,yBAAKjB,QAASjB,KAAKW,aACjB,yBAAKJ,UAAU,eAAeP,KAAKL,MAAMiB,OAAS,MAClD,kBAACnB,EAAD,CAAOc,UAAU,aAAaR,MAAOF,KAAKC,QACzC8B,EACAC,O,GAlESrB,IAAMC,WA0ExB0B,IAASC,OAAO,kBAAC1B,EAAD,MAAS2B,SAASC,eAAe,W","file":"static/js/main.55eb99ab.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nconst minIndex = (arr) => {\n  let min_value = Number.MAX_SAFE_INTEGER;\n  let min_index = -1;\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] <= min_value) {\n      min_value = arr[i];\n      min_index = i;\n    }\n  }\n\n  console.log(\"minIndex => \", min_index, min_value);\n  return min_index;\n};\n\nconst millisToString = (duration) => {\n  console.log(\"duration\", duration);\n  const millis_t = 1;\n  const seconds_t = 1000 * millis_t;\n  const minutes_t = 60 * seconds_t;\n  const hours_t = 60 * minutes_t;\n  const days_t = 24 * hours_t;\n\n  const days = Math.floor(duration / days_t);\n  const hours = Math.floor(duration / hours_t);\n  const minutes = Math.floor(duration / minutes_t);\n  const seconds = (duration / seconds_t).toFixed(3);\n\n  return `${minutes} min ${seconds} sec`;\n};\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      time: Date.now(),\n      start: props.start || 0,\n    };\n  }\n  componentDidMount() {\n    this.intervalID = setInterval(() => this.tick(), 100);\n  }\n  componentWillUnmount() {\n    clearInterval(this.intervalID);\n  }\n  tick() {\n    this.setState({\n      time: Date.now(),\n      start: this.state.start,\n    });\n  }\n  render() {\n    const { time, start } = this.state;\n    const time_text = `TOTAL: ${millisToString(time - start)}`;\n    return <div className=\"time-block\">{time_text}</div>;\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: null,\n      prev_time: null,\n      count: null,\n    };\n  }\n\n  handleClick = () => {\n    if (this.state.count === null) {\n      // first click\n      this.setState({\n        history: [],\n        count: 1,\n        prev_time: Date.now(),\n      });\n    } else {\n      const now = Date.now();\n      const new_time = now - this.state.prev_time;\n\n      this.setState({\n        history: this.state.history.concat([new_time]), //[...history, squares],\n        count: this.state.count + 1,\n        prev_time: now,\n      });\n    }\n  };\n\n  render() {\n    if (this.state.count === null) {\n      return (\n        <div onClick={this.handleClick}>\n          <div className=\"count-block\">{\"GO\"}</div>\n        </div>\n      );\n    }\n\n    const history = this.state.history;\n    const fastest_lap = minIndex(history);\n    const fastest_text = `FASTEST: ${fastest_lap + 1} - ${millisToString(\n      history[fastest_lap]\n    )}`;\n    const fastest =\n      fastest_lap >= 0 ? (\n        <div className=\"fastest-block\">{fastest_text}</div>\n      ) : null;\n\n    const times = history\n      .map((v, i) => {\n        const cls = i === fastest_lap ? \"fastest-block\" : \"time-block\";\n\n        return (\n          <div className={cls} key={i}>\n            {i + 1} - {millisToString(v)}\n          </div>\n        );\n      })\n      .reverse();\n\n    return (\n      <div onClick={this.handleClick}>\n        <div className=\"count-block\">{this.state.count || \"GO\"}</div>\n        <Clock className=\"time-block\" start={Date.now()} />\n        {fastest}\n        {times}\n      </div>\n    );\n  }\n}\n\n// ========================================\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}